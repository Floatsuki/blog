---
title: '数字视频分辨率和宽高比转换快速指南'
pubDate: '2025-02-01'
category: 'translate'
---

> 原文：[A Quick Guide to Digital Video Resolution and Aspect Ratio Conversions](https://web.archive.org/web/20140218044518/http://lipas.uwasa.fi/~f76998/video/conversion/)
>
> **本文为AI翻译，对专有名词的人工校对尚未完成。**

## **目录**

- 引言
- 模拟与数字之间的联系
- 数字视频格式转换表
- 常见问题
- 相关链接

## **近期更新**

**2008 年 1 月 15 日**

- 修复了链接失效问题。（感谢 Jeff！）

**2006 年 2 月 25 日**

- 添加了 BBC – Commissioning – A Guide to Picture-Size 的链接
- 修复了链接失效问题。

**2004 年 2 月 28 日**

- 在 625/50 表格中添加了 544×576 分辨率（根据 DVB 规范）

**2004 年 2 月 22 日**

- 应大众需求，我现在完成了对 525/59.94 系统转换表的主要修订。 以前，所有 525/59.94 计算都基于在 13.5 MHz 模式下向上舍入到 711 像素（52.666... µs），然后将该数字视为精确的 4:3 分辨率。 现在，所有 525/59.94 数字都基于 52+59/90 (52.6555...) µs 的精确有效行长，这更准确地遵循了模拟标准。 **注意：** 即使表格中的 525/59.94 数字现在（表面上）发生了很大变化，但它们的实际近似值仍然非常接近旧值，因此这种更改并没有带来太多实际影响。 例如，525/59.94 13.5 MHz 像素的旧像素宽高比值为 72/79 (0,91139...)，现在为 4320/4739 (0,91158...)。 即使您使用旧值，您也不太可能看到任何差异。
- 我向 Andreas Dittrich 和 Chris Meyer 致以问候，他们提供了一些富有洞察力的评论，并说服我继续进行此项更改。 您现在可以感谢（或诅咒）他们带来了这些新的、更**吹毛求疵**般精确、更**繁琐**的分数数字！:)
- 关于 575 与 576、485 与 486 有效行几何形状问题，仍然存在一些学术上的争议。 我将来可能会重新审视这个问题。
- 表格现在已分为两个部分——一个列出常见的 525/59.94 采样网格，另一个列出常见的 625/50 采样网格。
- 625/50 方面没有任何变化。 啥也没有。 一点儿也没有。

**2004 年 2 月 20 日**

- 添加了一个信息丰富的文章链接，关于 “确定采集卡的采集窗口” 以及相应的常见问题解答部分 4.11：“救命啊！我的采集卡似乎不是这样工作的！”

**2004 年 2 月 14 日**

- “链接失效” 修复。 一些措辞上的细微改动。

**2003 年 6 月 26 日**

- 转换表中的错别字。 某些分辨率的采样矩阵宽度被列为 52.33333 µs 而不是 53.33333 µs。

**2003 年 2 月 11 日**

- 一些 “链接失效” 修复。 感谢 Andy 和 Olafs！

**2002 年 6 月 26 日**

- 转换表错误地将像素宽高比列标题标记为值采用 y/x 格式，而实际上它们是 x/y 格式。 表格的标题已更正。（感谢 Colin！）表格下方给出的计算结果一直都是正确的，并且没有被修改。

**2002 年 4 月 13 日**

- 第 4.7 节中存在一个不幸的错误：正确的 525 线分辨率（当然）是 720×526 + 2/3，而不是 720×533.25！ 对不起。 现在已更正。

**2002 年 4 月 11 日**

- 添加了第 4.7 节： “你说最好避免使用 720×540 是什么意思？”

**2002 年 4 月 10 日**

- 通过添加以微秒为单位的采样矩阵宽度来增强了表格。
- 对整个文档进行了各种小的润色。

**2002 年 4 月 9 日**

- 所有对 525/60 的引用都已更改为 525/59.94，以更加**吹毛求疵**。
- 表格现在将 625/50 系统称为 CCIR，将 525/59.94 系统称为 EIA（嗯，这不是完美的解决方案，但可能比仅使用数字或单独列出世界上每种广播标准的每个字母 designation 都要好）
- 向转换表添加了一些 H.261、H.263 分辨率。
- 澄清了数字化半线的解释。
- 在 “相关链接” 部分添加了一些链接。
- 添加了一些入门链接。
- 用新的内容替换了第 4.6 节

**2002 年 4 月 6 日**

- 首次发布日期

## **1. 引言**

在数字视频的世界里，存在着相当多令人震惊、有些吓人、且鲜为人知的秘密。

初学者通常最先遇到的问题之一是，在数字化的视频数据中，像素的形状通常不被认为是“正方形”的。在大多数实际应用的数字视频中，像素都具有宽度/高度比——或者更方便地称之为宽高比——它可以与 1:1 完全不同！

第二个重大的启示通常发生在人们第一次接触到变形宽银幕 16:9 视频的概念时。如果说最初理解像素在不同显示环境下会改变形状就已经很困难了，那么这个概念就更加令人困惑：你刚刚学会将其与 4:3 显示器联系起来的相同像素分辨率，现在突然可以代表另一种完全不同的图像几何形状。换句话说，像素又一次改变了它们的形状！

不幸的是，对于大多数普通人来说，这两点往往是他们对数字视频和宽高比所能了解的全部内容。

### **1.1 被揭露的肮脏小秘密**

教程和手册通常倾向于对数字视频更精细的技术细节保持沉默和神秘，尤其是在（像素）宽高比和图像几何形状方面。

即使讨论了将视频剪辑转换为其他分辨率（重采样），相关的解释通常也令人不安地过于简单和模糊——通常不准确且具有误导性——有时建议的方法简直是错误的。 例子中只处理任意选择的（“x 像素乘以 y 像素”）帧尺寸，并使用理想的帧宽高比（如 16:9 或 4:3）作为计算基础，而不是实际的像素宽高比，这种情况并不少见——这通常是一个很好的迹象，表明作者可能根本没有将真实的图像几何形状考虑在内。

几乎整个宽高比问题都被认为是视频行业内不愿公开的小秘密； 就像是某种黑魔法，你甚至无法用合理的语言向凡人解释。 这真是太遗憾了。 在这种情况下，确实有很多东西值得深入了解。 用不完整和简化和稀释的解释来迷惑人们对这个行业没有任何好处。

既然您已经读到这里，现在是时候用关于宽高比和帧尺寸的第三个重大启示来奖励您的努力了——这个启示通常是秘而不宣的：

没有任何一个常用的数字视频分辨率能**精确地**代表实际的 4:3 或 16:9 图像帧。

令人震惊，不是吗？ 768×576、720×576、704×576、720×480、704×480、640×480…… 它们中没有一个是精确的 4:3 或 16:9； 甚至包括那些你可能传统上认为是“正方形像素”分辨率的那些。

真相就是如此。现在你终于知道了真相。 让我们 выяснить 这实际上意味着什么。 ( _这里原文是俄语，我理解作者可能想用俄语的 " выяснить " (弄清楚) 来强调，所以我保留了原文，您看是否需要翻译成中文？_)

## **2. 模拟与数字之间的联系**

数字视频标准并非脱离模拟世界的独立存在。 相反，所有常用的现代（标清电视，SDTV）数字视频格式都与其在模拟视频标准中的对应物有着明确的关系。 你甚至可以说它们扎根于模拟的土壤之中。

现在，我的朋友，我们正迅速接近第四个重大启示：

真正定义数字格式中图像几何形状和像素宽高比的，实际上是模拟视频标准。

即使你的所有视频工作都完全在数字领域中完成，那些令人讨厌的旧模拟视频标准仍然定义着你的图像和像素的形状。

这是为什么呢？

从视频行业的角度来看，当前的（标清电视，相对于高清电视 HDTV 而言，高清电视是另一回事）数字视频格式——那些实际应用于现实生活的应用中，例如 DVD、DV、VCD、SVCD、数字电视等等——都关乎互操作性。 在数字视频的初期——1970 年代后期，当 CCIR 601（后来成为 ITU-R BT.601）的标准制定工作开始时——已经存在大量的模拟视频素材，它们的格式完全由模拟标准定义。 更重要的是，大量的资金已经投入到模拟演播室设备中，例如摄像机、视频切换台、处理放大器、磁带录像机和其他行业工具。 如果“下一代”数字视频格式的设计方式与旧的模拟格式完全没有共同之处，并且需要抛弃所有模拟设备，那将是多么巨大的浪费！

从一开始就很清楚，行业需要的是模拟系统和充满希望的新数字世界之间平稳、明确的过渡路径，而不会遇到过多的兼容性问题。 自由混合和搭配数字和模拟设备也被认为是必要的。 结果就是，我们现在使用的数字（标清电视）视频格式是基于数字化旧的模拟视频信号的概念，从而与模拟视频标准紧密相连。

数字和模拟领域之间的这种联系是永久性的。 数字视频的一些基本特征，例如图像几何形状，实际上是在模拟标准中定义的。 即使我们完全采用数字化，这种关系仍然存在，只要我们使用 ITU-R BT.601 像素或“行业标准”正方形像素。

### **2.1 这意味着什么？**

几乎所有现代数字视频格式都源自以下三个基本采样率：

- **13.5 MHz** ITU-R BT.601（又名 CCIR 601，又名 Rec. 601）非正方形像素，适用于 625/50 和 525/59.94 系统。 该采样率最初是为数字化分量视频信号而设计的。 现在广泛应用于几乎所有现代数字视频设备中。
- **14.75 MHz** “行业标准”正方形像素，适用于 625/50 系统。 最初是为数字化复合视频信号而设计的。
- **12 + 3/11 MHz** SMPTE 244M “行业标准”正方形像素，适用于 525/59.94 系统。 最初是为数字化复合视频信号而设计的。

让我们看看 13.5 MHz 在 525/59.94 和 625/50 系统中是如何工作的：

如果你有一根同轴电缆传输的分量视频信号的黑白（亮度）部分，你可以插入一个模数转换器（A/D 转换器），并开始定期计量（采样）电缆中的电压水平。

- ITU-R BT.601 为 625/50 和 525/59.94 视频信号定义了一个标准采样率：13.5 MHz
- 13.5 MHz 将为您提供每秒总共 13,500,000 个采样点，但我们只对采样信号中实际包含图像信息的部分感兴趣。 信号中用于水平或垂直消隐的部分我们不感兴趣，可以省略。
- 625/50 系统的行长为 64 微秒（µs），其中 52 微秒是包含实际图像信息的“有效”部分。（其余部分保留用于水平消隐。）
  - 52 微秒 × 13.5 MHz = 每扫描线 702 个采样点（像素）
  - 在垂直方向上，有 574 条完整的扫描线和 2 条半线。 即使是半线也像其“缺失”的另一半属于有效图像一样被数字化，总共得到 576 条扫描线。
  - 因此，在 13.5 MHz 采样率下，有效图像区域为 702×576 像素。 这就是构成 4:3（或变形宽银幕 16:9）帧的实际区域。
- 525/59.94 系统的行长为 63+5/9 (63.555...) 微秒，其中 52+59/90 (52.6555...) 微秒是包含实际图像信息的“有效”部分。（其余部分保留用于水平消隐。）
  - 52+59/90 微秒 × 13.5 MHz = 每扫描线 710.85 个采样点（像素）。
  - 在垂直方向上，有 484 条完整的扫描线和 2 条半线。 如上所述，所有这些都被数字化，半线将被视为其缺失的另一半属于有效图像，总共得到 486 条扫描线。
  - 因此，在 13.5 MHz 采样率下，有效图像区域为 710.85×486 像素。 这就是构成 4:3（或变形宽银幕 16:9）帧的实际区域。
  - 然而，在任何实际的视频工作中，我们都不能使用部分像素。 因此，数字 710.85 需要向上舍入到 711，我们得到一个 711×486 像素的帧。
  - 在 13.5 MHz 采样率下，711 个采样点等于 52+2/3 (52.666...) 微秒，因此，四舍五入到最接近像素的有效区域比理想情况下应该的宽度略宽一些。 幸运的是，0.0111... 微秒的差异（在所有实际应用中）是微不足道的，并且完全在 NTSC-M 规范的公差范围内。

正方形像素采样率的工作原理也相同。 您只会得到不同数量的水平采样点。 计算过程留给读者作为练习。

### **2.3 我已经迷失了！**

如果您没有理解上述内容，您可能需要查看以下入门链接：

- [A Note on CCIR / PAL-B Video Standard](https://www.google.com/url?sa=E&q=链接)
- [Basics of Video](https://www.google.com/url?sa=E&q=链接)
- [Conventional Analog Television - An Introduction](https://www.google.com/url?sa=E&q=链接)
- [The 625/50 PAL Video Signal and TV Compatible Graphics Modes](https://www.google.com/url?sa=E&q=链接)

另请参阅“相关链接”部分。

## **3. 数字视频格式转换表**

下表是帧尺寸和宽高比转换表，列出了许多常用的数字视频格式：

**与 625 线系统（50 Hz 场频）相关的格式**

| 采样矩阵 | 采样率 (MHz) | 像素宽高比 (x/y) | 采样矩阵宽度 (µs) | 实际有效图像尺寸 | 支持隔行扫描 | 备注 |
| -------- | ------------ | ---------------- | ----------------- | ---------------- | ------------ | ---- |
| 宽度     | 高度         |                  |                   | 宽度             | 高度         |      |
| 768      | 576          | 14.75            | 768/767           | 52.06780         | 767          | 576  |
| 768      | 576          | 14 + 10/13²      | 1/1               | 52.00000         | 768          | 576  |
| 768      | 560          | 14.75            | 768/767           | 52.06780         | 767          | 576  |
| 720      | 576          | 13.5             | 128/117           | 53.33333         | 702          | 576  |
| 720      | 540          | 不明确           | 1/1               | 不明确           | 720          | 540  |
| 704      | 576          | 13.5             | 128/117           | 52.14815         | 702          | 576  |
| 702      | 576          | 13.5             | 128/117           | 52.00000         | 702          | 576  |
| 544      | 576          | 10.125           | 512/351           | 53.72840         | 526+1/2      | 576  |
| 480      | 576          | 9                | 128/78            | 53.33333         | 468          | 576  |
| 384      | 288          | 7.375            | 768/767           | 52.06780         | 383+1/2      | 288  |
| 384      | 280          | 7.375            | 768/767           | 52.06780         | 383+1/2      | 288  |
| 352      | 576          | 6.75             | 256/117           | 52.14815         | 351          | 576  |
| 352      | 288          | 6.75             | 128/117           | 52.14815         | 351          | 288  |
| 176      | 144          | 3.375            | 128/117           | 52.14815         | 175+1/2      | 144  |

**与 525 线系统（59.94¹ Hz 场频）相关的格式**

| 采样矩阵 | 采样率 (MHz) | 像素宽高比 (x/y) | 采样矩阵宽度 (µs) | 实际有效图像尺寸 | 支持隔行扫描 | 备注 |
| -------- | ------------ | ---------------- | ----------------- | ---------------- | ------------ | ---- |
| 宽度     | 高度         |                  |                   | 宽度             | 高度         |      |
| 720      | 540          | 不明确           | 1/1               | 不明确           | 720          | 540  |
| 720      | 486          | 13.5             | 4320/4739         | 53.33333         | 710.85       | 486  |
| 720      | 480          | 13.5             | 4320/4739         | 53.33333         | 710.85       | 486  |
| 711      | 486          | 13.5             | 4320/4739         | 52.66667         | 710.85       | 486  |
| 704      | 486          | 13.5             | 4320/4739         | 52.14815         | 710.85       | 486  |
| 704      | 480          | 13.5             | 4320/4739         | 52.14815         | 710.85       | 486  |
| 648      | 486          | 12 + 1452/4739²  | 1/1               | 52.65556         | 648          | 486  |
| 640      | 480          | 12 + 3/11        | 4752/4739         | 52.14815         | 646+5/22     | 486  |
| 640      | 480          | 12 + 1452/4739²  | 1/1               | 52.00549         | 648          | 486  |
| 480      | 480          | 9                | 6480/4739         | 53.33333         | 473.9        | 486  |
| 352      | 480          | 6.75             | 8640/4739         | 52.14815         | 355.425      | 486  |
| 352      | 240          | 6.75             | 4320/4739         | 52.14815         | 355.425      | 243  |
| 320      | 240          | 6 + 3/22         | 4572/4739         | 52.14815         | 324          | 243  |

¹ 59.94 Hz 只是一个常用的近似值； 数学上精确的场频是 60 Hz \* 1000/1001。
² 计算出的采样率，此处列出仅为完整性考虑。 实际的 525/625 视频设备中不存在。
³ 仅用于静止图像。

### **3.1 如何使用此表进行转换**

假设您有一个视频剪辑采用一种格式，并希望将其转换为另一种格式，以便在整个过程中保持正确的宽高比。

1. 在表中找到您的源格式和目标格式。
2. 使用以下公式计算垂直转换因子：垂直转换因子 = 目标有效图像高度 / 源有效图像高度。（务必使用表中的有效图像值，而不是采样矩阵尺寸值。）
   - 如果 垂直转换因子 为 0.5 并且您的源素材是隔行扫描的，您可能需要在重采样之前进行反隔行处理。（我建议使用特殊的智能反隔行算法，例如 VirtualDub 的 Smart Deinterlacer 滤镜中提供的算法。）
   - 如果 垂直转换因子 不是 0.5、1 或 2，您可能正在尝试在 625/50 系统和 525/59.94 系统之间进行标准转换。 （正确地）进行标准转换是一个要求很高的过程，并且超出了本文档的范围。 我建议阅读 Snell & Wilcox Engineering Guides 出版的《工程师标准转换指南》和《工程师运动补偿指南》，以了解相关问题。 简而言之，仅仅转换帧尺寸和图像宽高比是不够的——您还需要考虑隔行扫描，并纠正时域中的任何混叠问题（这意味着使用运动补偿算法凭空合成新的场）。
3. 计算水平转换因子：水平转换因子 = (源宽高比) / (目标宽高比) \* (垂直转换因子)
4. 计算新的水平尺寸：目标采样矩阵宽度 = 水平转换因子 \* 源采样矩阵宽度
5. 计算新的垂直尺寸：目标采样矩阵高度 = 垂直转换因子 \* 源采样矩阵高度
6. 将图像重采样到新尺寸。
7. 检查新尺寸是否与目标分辨率的采样矩阵尺寸相匹配。 如果不匹配，则进行裁剪（即在边缘处剪切）和填充（即添加黑色边框），以使其匹配。

### **3.2 上述内容的一些实际示例**

#### **3.2.1 将 640×480 “行业标准” 正方形像素转换为 720×480 ITU-R BT.601 像素**

假设我使用旧的 M-JPEG 卡从 525/59.94 源捕获了一个视频剪辑，该卡仅允许以“行业标准”（12 + 3/11 MHz）正方形像素格式进行采样。 剪辑的分辨率为 640×480。 现在我想将其合并到一个 DV 项目中，该项目使用 ITU-R BT.601 像素，分辨率为 720×480。

1. 第一步是从表中查找正确的源格式和目标格式。
   - 在本例中，源格式是 525/59.94 系统中的 640×480，使用 12 + 3/11 MHz 的采样率和 4752/4739 的像素宽高比。
   - 目标格式是 720×480（同样在 525/59.94 系统中），使用 13.5 MHz 的采样率和 4320/4739 的像素宽高比。
2. 第二步是计算垂直转换因子。 在我们的例子中，它是 486/486 = 1。
3. 现在我们需要一个水平重缩放因子，在本例中为 (4752/4739) / (4320/4739) \* 1，等于 11/10。
4. 然后我们可以从旧图像宽度计算新图像宽度：11/10 \* 640 = 704 像素。
5. 图像高度将保持不变，因为 1 \* 480 仍然是 480。
6. 因此，我们需要将 640×480 图像重采样到 704×480。
7. 但是，我们最初的目标分辨率是 720×480。 现在我们需要填充图像（在侧面添加黑色竖条），使帧宽度变为 720 像素。 一个自然的结论是，我们需要在左右两侧边缘各添加 8 像素的黑色。

#### **3.2.2 将 720×576 ITU-R BT.601 像素转换为 720×480 ITU-R BT.601 像素**

换句话说，即 “PAL” 到 “NTSC” 的转换：

1. 同样，第一步是从表中查找正确的源格式和目标格式。
   - 在本例中，源格式是 625/50 系统中的 720×576，使用 13.5 MHz 的采样率和 128/117 的像素宽高比。
   - 目标格式是 525/59.94 系统中的 720×480，使用 13.5 MHz 的采样率和 4320/4739 的像素宽高比。
2. 我们需要计算垂直转换因子。 在我们的例子中，它是 486/576 = 27/32。
3. 现在我们需要一个水平重缩放因子，在本例中为 (128/117) / (4320/4739) \* (27/32)，等于 4739/4680。
4. 然后我们可以从旧图像宽度计算新图像宽度：4739/4680 \* 720 = 729+1/13 像素。
5. 新图像高度将为 27/32 \* 576 = 486 像素。
6. 因此，我们需要将 720×576 图像重采样到 (729+1/13)×486。 由于我们通常不能使用亚像素采样，我们必须将数字 729+1/13 四舍五入到一个合理的数字——在本例中可能是 729。
7. 但是，我们最初的目标分辨率是 720×480。 现在我们需要从 729×486 图像的边缘进行充分裁剪，使帧宽度变为 720 像素，帧高度变为 480 像素。

## **4. 常见问题**

### **4.1 难道 720 不是 4:3 图像的真实宽度吗？ 如果不是，那么为什么要采样 720 像素而不是 711 或 702（或其他数字）？**

采样 720 像素是为了允许模拟信号中的消隐和有效行长**略微偏离**理想的时序值。 在实践中，模拟视频信号——特别是来自晃动的家用录像机时——其时序永远不可能那么精确。 即使信号质量有点粗糙或不符合标准，为数字化所有信号留出一点**余量**也是有用的。

采样 720 像素也是为了确保待数字化的信号有足够的时间在两端**斜坡式**回落到消隐电平。（这是为了避免讨厌的**过冲**或**振铃**效应，类似于您在音频采样的开始和结束时听到的咔哒声和爆音。）

最后但同样重要的是，采样 720 像素是因为通用的采样率（13.5 MHz）和每行采样点数（720）使硬件制造商更容易设计多标准数字视频设备。

### **4.2 考虑到符合 ITU-R BT.601 标准的设备，这意味着什么？**

这意味着信号的采样水平范围比实际的有效图像帧**略宽**：

- 在 625/50 系统上，只有最中心的 702×576 像素（在 720×576 中）属于实际的 4:3（或变形宽银幕 16:9）帧。
- 在 525/59.94 系统上，只有最中心的 710.85×486 像素（在 720×486 中）属于实际的 4:3（或变形宽银幕 16:9）帧。（对于实际的视频应用，710.85 必须向上舍入到 711 像素。）

是的，您理解正确。 720x576 并不完全是 4:3，720x480 也不是。 真正的 4:3 帧（如模拟视频标准中定义的那样）比实际被数字化的信号的水平范围要窄一些。

是的，对于所有市面上常见的数字化设备来说都是如此； 电视调谐卡、数字摄像机等等。 即使对于全数字系统也是如此； 否则它们将无法与 ITU-R BT.601 兼容。

### **4.3 你一定是在开玩笑！ 我非常肯定你的计算有错误。 各处都说 720×576 或 720×480 确实是 4:3。 请停止传播这种错误信息！**

我承认，即使在专业的摄像师中，本网站上提供的数字也不是广为人知的事实，更不用说业余爱好者了。 宽高比是数字视频中最被误解的 “黑魔法” 问题之一。 这正是我最初创建该网站的原因——为了分享知识。

至于我的计算； 欢迎您指出它们的错误。 首先，您可能需要阅读 “相关链接” 部分中的文档。

### **4.4 我从事数字视频项目已经 50 年了。 我很懂行！ 如果你是正确的，那么我处理我珍贵视频所做的一切在宽高比方面一直都是错误的！**

这很可能就是令人遗憾的事实。 幸运的是，即使您使用了错误的方法来缩放/重采样图像，正确宽高比和错误宽高比之间的差异通常也很小，除非您真的开始仔细观察，否则不会被注意到。

### **4.5 这仍然没有任何意义。 首先，我拥有的所有 525/59.94 设备只能在 720×480 下工作，而不是 720×486（当然也不是 711×486）！ 你怎么解释？**

525/59.94 视频信号有 486 条有效（携带图像信息）扫描线，但现代数字视频设备通常会**裁剪掉**其中的 6 条。 为什么？ 为了使图像的高度降至 480 像素，这样可以被 16 整除。 请自行查看：

- 486 / 16 = 30.375，而
- 480 / 16 = 正好 30。

另请注意，720 / 16 也正好等于 45，因此图像的宽度也可以被 16 整除！

#### **4.5.1 为什么栅格图像的高度和宽度可以被 16 整除很重要？**

现代数字视频应用，例如 DV、DVD 和数字电视 (DVB, ATSC)，通常使用 MPEG-1 或 MPEG-2 格式（或它们的衍生格式），所有这些格式都基于 16×16 像素的**宏块**。 使图像的高度和宽度容易被 16 整除，使 MPEG 编码器可以更轻松、更高效地压缩视频。

#### **4.5.2 这是否意味着当以 720×480 捕获时，我会丢失原始视频信号中曾经存在的 6 条扫描线的信息？**

没错，但这些信息最初可能并没有那么有价值。 大多数 525/59.94 视频工作已经完全在数字领域和 720×480 格式下完成，因此通常不再需要在这些扫描线上数字化任何内容。 此外，在过去的好日子里（当所有 486 条扫描线仍在有效使用时），大多数时候边缘只带有闪烁的 VCR 磁头噪声。

视频图像被基于 CRT 的电视的**过扫描**边缘所**遮蔽**，因此无论如何您通常都看不到“丢失”的扫描线。

#### **4.5.3 你一直说对于 525/59.94 系统，“真正”的 4:3 分辨率大约是 711×486。 好的，也许侧面确实有额外的 9 个像素，但是我的设备只记录 480 条有效扫描线，而不是 486 条，我该如何应对这个事实？**

这样想：

- 首先，您有一个 720×480 像素的帧。
- 还有另一个 710.85×486 像素的帧，**覆盖并居中**在第一个帧之上。 该帧代表 525/59.94 系统中 “真正” 的 4:3 分辨率。（在任何实际的现实世界视频应用中，我们都必须使用 711 像素，但 710.85 是理想的、数学上精确的数字。）
- 第一个帧中超出第二个帧侧边缘的部分是**超出**实际有效图像区域的**多余空间**。 您可以在数字系统中在那里放置图像，但不保证它能在任何模拟系统中**幸存**，或者在任何 CRT 监视器上显示，即使在**欠扫描**模式下也是如此。
- 第二个帧中超出第一个帧顶部和底部边缘的部分是被**裁剪掉**的 6 条扫描线。 由于您只有 480 条扫描线可供使用，因此您无法在那里放置图像，但从宽高比的角度来看，这个**假想的区域**算作 “真正” 的 4:3 图像的一部分。

还有另一种思考方式：

- 忽略 525/59.94 系统传统上拥有 486 条有效扫描线的概念。 相反，认为新标准现在是 480 条扫描线。
- 现在，您的理想 4:3 帧是 480 \* (4/3) / (4320/4739) = 702 + 2/27 像素。 在现实世界中，至少需要采样 703 个像素才能传达扫描线有效部分中的所有信息。
- 703 对于计算机来说是一个讨厌的**奇数**。 704 好得多，因为它（再次！）可以被 16 整除。
- 现在您有了类似 704×480 像素的帧，其中包含一个**近似** 702×480 的帧，而后者又代表了真正的 4:3 图像区域。 但是等等！ 704×480 是一个熟悉的数字，不是吗？ 看到联系了吗？ 它用于 VCD 高分辨率静止图像和 ATSC 数字电视！ 多么方便！

后一种思考方式也将导致**裁剪掉**图像的侧边缘，使其进入 4:3 矩形内（尽管比 “真正” 的矩形略小），但话又说回来，如果您被限制为使用 704×480，那么这个决定实际上已经为您做出了。

### **4.6 标准转换呢？ PAL 720×576 不正好等于 NTSC 720×480 吗？**

正如在 3.2.2 节的示例中可以看到的那样，答案是否定的。 如果您只是从 720×576 重采样到 720×480，则源格式和目标格式的模拟有效区域将不匹配。 幸运的是，这两个帧尺寸的关系中内置了一些**防错**机制。 您实际上从该过程中获得的是一个图像，其中原始模拟有效区域（720×576 中最中心的 702×576 像素）已变为目标格式像素中的 702×480。 反过来，这几乎代表了 4:3 区域，尽管比完美转换所需的区域略小。

702×480 覆盖的区域与实际的模拟有效图像帧（应该是 710.85×486，或者在实际应用中是 711×486）不同。 它更像是其中较小的 4:3 帧。

换句话说，结果是源格式中的有效 4:3 图像帧在转换中**略微缩小**：它在垂直方向上丢失了六条（目标）扫描线，并且宽度也丢失了相同的相对量。 但是，在所有实际应用中，它仍然保留了其原始宽高比。 看到这一点的最简单方法是将 702×480（在 13.5 MHz 525 线 ITU-R BT.601 格式中）转换为 “真正” 的正方形像素：639 + 4419/4739 正方形像素乘以 480 条扫描线与 640×480 非常接近，后者是 4:3。 多么奇妙的巧合，不是吗？ :)

相同的奇特关系适用于所有源自 13.5 MHz 的 525/625 “姊妹分辨率”：

- 704×576 vs 704×480
- 480×576 vs 480×480
- 352×288 vs 352×240
- 等等。

这在两个条件下成立：

- 源采样矩阵宽度（以微秒为单位）必须与目标格式的完全相同。
- 您只能在全高 625 线分辨率和裁剪高度 525 线分辨率之间进行转换（即仅使用那些代表正好 480 条扫描线值的 525/60 数据的格式，而不是完整的 486 条）。

由于直接重采样涉及**缩小**（或在另一个方向上，**放大**），我真的不建议将这种方法用于任何真正的标准转换工作。 它更像是一种**快速的权宜之计**，适用于例如软件不允许适当的调整大小和裁剪的情况。

**注意：** 许多人出于完全错误的原因使用直接重采样：1) 他们认为 720×480 帧直接等于 720×576 帧。 2) 他们还认为上述两种帧尺寸都**从边缘到边缘**完全代表了有效的 4:3（或 16:9）图像区域。 正如您已经从 2.1 节了解到的那样，这两个假设都是错误的。 直接重采样之所以有效，主要是因为一个**古怪的巧合**。

### **4.7 你说最好避免使用 720×540 是什么意思？**

此分辨率的问题在于，当您认为自己正在编辑的格式既是 1) 4:3 正方形像素，又是 2) 易于通过垂直重采样转换为标准视频分辨率（720×576 或 720×480）时，您并没有。 请参阅表格。 没有真正的现实世界视频格式会将完整的 720 像素水平范围用作有效 4:3 帧的宽度。

为了从此格式获得标准视频格式，您需要考虑采样矩阵的实际形式。 625 线格式中的 4:3 区域是 702×576，而不是 720×576。 在 525 线格式中，它是 711×486，而不是 720×480。 将 720 像素宽的 4:3 格式直接调整大小为 720×576 或 720×480 根本行不通。 您要么需要在两个方向上都进行重采样（与您最初的想法不同，您根本无法始终保持图像宽度整齐地为 720 像素），要么裁剪掉一些顶部和底部的线条。

如果您需要构建一个中间的正方形像素分辨率，该分辨率 a) 正好 720 像素宽，并且 b) 覆盖的区域与 720x576 或 720x480 完全相同（因此只需在垂直方向上进行重采样以进行转换），您将最终得到两个单独的分辨率，每个视频标准一个：

- 720×576（用于 625 线系统的 ITU-R BT.601 像素）的 720 像素宽正方形像素等效值为 720×526.5 像素
- 720×480（用于 525 线 4739/9 系统的 ITU-R BT.601 像素）的 720 像素宽正方形像素等效值为 720×526 + 5/9 像素

幸运的是，对于这两个标准，数字都将**完美地**向上舍入为 720×527。

请注意，当您在垂直方向上进行缩放时，原始的隔行扫描场结构（如果存在）将会**变得混乱**。

### **4.8 为什么您的表格列出了两种略有不同的正方形像素定义？**

电视调谐器或 M-JPEG 卡数字化的 “正方形像素” 并不完全是正方形。“行业标准” 正方形像素视频设备中使用的采样率实际上给出的像素**几乎是**正方形的，但**并不完全是**正方形的。 正如您在表格中亲自看到的那样，差异非常小——在所有实际应用中都**微不足道**——但仍然有必要知道，采样的 “视频” 正方形像素与理想的 “计算机” 正方形像素略有不同。

将 “计算机” 正方形像素转换为 “视频” 正方形像素通常是徒劳的。 无论如何您都看不到差异，并且可能只会因插值过程而损失一些质量。

### **4.9 这真是可怕又糟糕的东西。 我以为数字视频很简单！ 现在我头疼了！**

但视频就是这样。 幸运的是，一旦您稍微练习一下，转换实际上并没有那么复杂。

### **4.10 我认为你只是在吹毛求疵。 如果我将所有 “4:3” 视频格式都视为 4:3，而不进行任何复杂的宽高比或 “有效图像区域” 计算，没人会注意到的。**

您可以随意以自己喜欢的方式处理视频。 但是，仍然有很多人希望尽可能接近理想的宽高比**精确度**，而不是仅仅在他们的视频工作中使用粗略的 “**大致数字**”。

### **4.11 救命啊！ 我的采集卡似乎不是这样工作的！**

您可能是正确的。 专业视频设备在符合 ITU-R BT.601 标准方面非常严格，并且您通常也可以信任 DV 摄像机和使用正确采样率和像素时钟的 DVD 播放器/录像机。 但是，PC 硬件市场是不同的：廉价的大众市场电视调谐卡和 “电视输出” 卡通常似乎在它们的驱动程序中存在这些设计缺陷和不准确之处：有时它们使用通用的行业标准帧格式（例如 720×480），但采样率完全错误或**偏差**足够大以致产生问题。

通常，硬件不是罪魁祸首——卡上的芯片可能完全有能力使用完全正确的采样率和像素时钟生成图像（或对其进行数字化），但是设计控制硬件的驱动程序的程序员可能采取了一些特殊的**自由和捷径**，从而导致了不准确。（可能这些有问题的设备的驱动程序是由没有研究相关视频标准的人设计的。）

幸运的是，您可以检查您的设备，并在必要时通过遵循这些说明来校准您的采集工作流程。 （确定这些缺陷的唯一方法是比较测试图像，如上述链接中详述的那样，或者使用测试卡发生器和**示波器**。）

## **5. 相关链接**

- [ITU-R BT.470 简要概述：B,G/PAL 和 M/NTSC 电视系统的特性](https://www.google.com/url?sa=E&q=链接)
- [ITU-R BT.470：传统电视系统](https://www.google.com/url?sa=E&q=链接)
- [ITU-R BT.601：用于标准 4:3 和宽屏 16:9 宽高比的数字电视演播室编码参数](https://www.google.com/url?sa=E&q=链接) （又名 CCIR 601，又名 Rec. 601）
- [EBU 技术建议 R92-1999：模拟和数字 625/50 电视系统中的有效图像区域和图像中心定位](https://www.google.com/url?sa=E&q=链接)
- [BBC – 委托 – 图像尺寸指南](https://www.google.com/url?sa=E&q=链接)
- [Lurkertech / SGI：Chris Pirazzi 的正方形和非正方形像素](https://www.google.com/url?sa=E&q=链接)。 请注意，本文对宽高比问题的看法与本网页略有不同。 这主要是因为本文的作者选择将 “行业标准” 正方形像素视为与真正的正方形像素相同，而我则想在两者之间进行**吹毛求疵**般的区分。（是的，我是一个**不切实际的傻瓜**。）
- [您的数字技术基本指南 [第 17 页，第 4.3 章\]](https://www.google.com/url?sa=E&q=链接)。 John Watkinson 著，Snell & Wilcox 指南。
- [Quantel 数字技术手册 [“像素的宽高比...” 的定义\]](https://www.google.com/url?sa=E&q=链接)
- [Google Groups 存档：BBC 工程师在 Usenet 中讨论该主题：文章 #1](https://www.google.com/url?sa=E&q=链接)，[文章 #2](https://www.google.com/url?sa=E&q=链接)
- [Google Groups 存档：CIF 图像格式的定义](https://www.google.com/url?sa=E&q=链接)。 为了将此转变为**正反论证**的讨论，另请参阅《正方形和非正方形像素》中的 “MPEG I 和 MPEG II 中的像素宽高比” 部分。 似乎确实存在一个**尚未解决**的标准化**怪癖**：CIF 宽高比在理论上被定义为独立于 ITU-R BT.601 像素，但出于所有实际目的，它仍然依赖于它们，因为在实际世界中，视频采集设备是基于它们的。 ;-) 似乎 MPEG / H.26x 委员会的最初意图是为宽高比使用 “更容易” 的数字和定义，但这实际上只会造成混乱。 这个故事的寓意：**不要盲目信任** MPEG 标头中的宽高比问题。 相反，根据您使用的设备类型、视频的来源以及您实际希望如何完成转换，做出您自己**有根据的判断**。 大多数视频以 13.5 MHz 采样，并直接逐像素地转换为这些格式，而**不考虑**标头**名义上**声明的宽高比是什么。
- [确定采集卡的采集窗口](https://www.google.com/url?sa=E&q=链接)。 廉价的视频采集设备（例如普通的电视调谐卡——或者更确切地说，是它们的驱动程序）并非总是按照行业标准进行校准的，即使驱动程序中可用的标准采集分辨率似乎表明它们是校准过的。 本文概述了一种实用的方法，用于弄清楚您的卡实际如何数字化视频信号。
