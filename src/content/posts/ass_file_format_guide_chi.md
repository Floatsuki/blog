---
title: 'ASS 文件格式指南'
pubDate: '2025-08-27'
category: 'translate'
---

> ⚠ 这份文档没有翻译完。

本文档是一份指南，说明如何遵循最佳实践来*生成* ASS 文件，以确保所有渲染器、混流器、编辑器和其他工具都能成功解析它。**强烈**建议遵循此处描述的所有“最佳实践”。

这**不是**一份规范或任何其他类型的权威文件。它也不追求全面性，记录所有边缘情况下属性/修饰符的怪癖和行为显然不是目标。

如果您想要*解析*而不是生成 ASS 文件，本文档可能有助于获得一个总体概念，但它*不足以*涵盖所有技术有效的输入。

本文档专门记录标准的 ASS 功能，有关 libass 特定的扩展功能，请参阅 [libass 的 ASS 扩展](https://github.com/libass/libass/wiki/Libass'-ASS-Extensions)_（因为这些扩展会使脚本不可移植，因此通常不鼓励在即时生成的瞬时字幕流之外使用它们（（例如，从另一种格式的按需转换））_。

本文重点在于 ASS（v4+），但也描述了 VSFilter 风格的 SSAv4 的结构以及很少使用的 v4++ _（也称 ASS2）_ 。 目前应该以 ASS（v4+）格式创建新文件。<sup id="f_v4pp">[v4++](#ft_v4pp)</sup>

## 前言：其他格式指南/规范

另一份通常被称为 ASS 文档甚至“规范”的文档是： <http://moodub.free.fr/video/ass-specs.doc> 。

然而，这只是在原版基础上粗略绘制的早期草图 Sub Station Alpha v4 文档。ASS 之后的实际权威实现与此草图略有不同，该文档保留了真正的 SSAv4 的几个特征，这些特性在 ASS 或 VSFilter 风格的 SSAv4 中均不存在 _（例如，特定于创作的功能）_ 。此外，这个早期的草图自然缺少 ASS 在 2003 年首次创建之后添加的所有功能。

它具有历史意义，但不建议用作实际格式参考。

## 常规

ASS 或 SSA 字幕文件通常也称为“脚本”。

以下“空格”专指 ASCII 空格，即 Unicode 代码点 `0x20` 。

字幕文件由多个类似 INI 文件的节组成。每个节以一行开头，一行仅包含一个方括号 `[` 、节名和一个方括号 `]` 。方括号前后不得有任何空格。

两个部分之间**应**至少放置一个空行。

除了 `[Fonts]` 部分之外，其他所有部分的每一行都是一个完整、独立的语句，并且单个语句绝不能分成多行。

Sections MUST occur only once and SHOULD appear in the same order as listed here. The `[Events]` section MUST be the last. Except for the `[Fonts]` section all MUST appear in the file.
各部分**必须**只出现一次，且**应**按照此处列出的顺序出现。 `[Events]` 部分**必须**位于最后。除 `[Fonts]` 部分外，所有部分都**必须**出现在文件中。

Files MUST be in valid UTF-8 and may use either Unix-style or DOS-style line endings. For the benefit of otherwise buggy editors, an UTF-8 BOM SHOULD be added at the start.
文件**必须**采用有效的 UTF-8 编码，并且可以使用 Unix 风格或 DOS 风格的行尾。为了避免编辑器出现错误，**应**在文件开头添加 UTF-8 BOM。

除非另有说明，整数和小数**必须**以 10 为基数，并且**不得**添加任何前导零或尾随零。

ASS 坐标的原点（ `(0, 0)` ）位于左上角。 `x` 是向右增长的水平轴， `y` 是向下增长的垂直轴。

## Section: Script Info

section header 为 `[Script Info]` 。

在这个 section 中，可以设置全局标头来影响其他所有内容的行为。
每个标头由冒号分隔的一行组成，其中标头名称位于冒号之前，其值位于冒号之后。冒号后**应**跟一个空格。

本 section **必须**至少包含 `ScriptType` 标头。
它还**应该**至少包含 `ScaledBorderAndShadow` 、 `YCbCr Matrix` 、 `PlayResX` 、 `PlayResY` 、 `LayoutResX` 和 `LayoutResY` 标头并按照各自文档中的建议设置它们的值。
如果脚本是由程序生成或通过编辑器编写的，通常需要在 `[Script Info]` 部分的第一行插入一条注释。注释以分号和一行开头的单个空格作为前缀，例如：

```txt
; Script generated by FooBar version 1.2.3
```

所有可用的标头都在下面。

### 功能标头

#### ScriptType：脚本类型

对于 SSAv4，**必须**设置为 `v4.00` ；对于 ASS，**必须**设置为 `v4.00+`；对于 ASS2，**必须**设置为 `v4.00++` 。此格式**必须**与后续样式和事件部分中使用的格式一致。

#### ScaledBorderAndShadow：缩放边框和阴影

将其设置为 `yes` 。
<sup id="f_sbas-no">[sbas-no](#ft_sbas-no)</sup>

#### YCbCr Matrix：YCbCr 矩阵

有效范围为 `PC` （Full-Range）和 `TV` （Limit-Range）。有效色彩空间为 `601` (BT601)、 `709` (BT709)、 `240M` (SMPTE240M) 和 `FCC` 。有效标头值为 `<range>.<colour space>` ，例如 `TV.601` 以及特殊值 `None` 。

如果视频的色彩空间为 BT601 或 BT709，则必须将其设置为与视频的色彩空间和范围完全匹配。否则，必须将其设置为 `None` 。
<sup id="f_ycbcr">[ycbcr](#ft_ycbcr)</sup>
遵循这些说明将确保最终颜色与 ASS 中指定的 RGB 值完全匹配。否则，未映射的颜色将出现混乱，如 `ass_types.h` 中所述。 _（但无论如何，colour primaries 和 tone mapping 将始终遵循视频色彩空间）_

将现有脚本移植到新视频时：

- 如果脚本 + 原始视频遵循了此处的指南，或指定了与视频色彩空间匹配的值，则请按照上述说明根据新视频覆写标头。无需对颜色进行进一步的操作。
- 如果原始脚本不遵循指南，请覆写标头并重新调整所有颜色。

#### LayoutResX and LayoutResY：LayoutResX 和 LayoutResY

创建新文件时，请将其设置为相应视频的原始显示尺寸。例如，在为 1920×1080 的视频设置字幕时

```txt
LayoutResX: 1920
LayoutResY: 1080
```

或者，当转换存储分辨率为 720×576 且原始显示分辨率为 1024×576 的变形 16:9 PAL DVD 时，设置

```txt
LayoutResX: 1024
LayoutResY: 576
```

将现有脚本移植到新视频时，如果原始视频的显示宽高比与新视频的显示宽高比匹配，则必须保留这些设置。（如果脚本尚未设置标头，则将其视为已将其设置为原始视频的*存储*分辨率，并在新文件中明确设置。）

如果显示宽高比*不*匹配，则需要对位置、变换和其他属性进行大量手动更改/修复。丢弃旧值，按照上述说明进行设置，并仔细确保修复所有看起来异常的地方。

#### PlayResX and PlayResY：PlayResX 和 PlayResY

创建新的子组件时，请使用与 `LayoutResX` 和 `LayoutResY` 相同的值。对于现有的子组件，请保持原样，除非您需要或想要进行大范围更改。

#### WrapStyle：换行方式

可选，设置全局默认换行行为。事件可以使用 `\q` 标签单独覆盖此默认行为。

如果存在，必须设置为<sup id="f_q3"><a href="#ft_q3">q3</a></sup>

- `0` ：溢出的行会自动以 `U+0020` （ASCII 空格）或 `\n` 换行。行长会尽量保持大致相等。 _（如果标头未声明，则这是默认值）_
- `1` ：溢出的行自动在 `U+0020` 处断开 或恰好在单词前出现 `\n` 会导致溢出。不会尝试均衡行长度。
- `2` ：行不会自动换行，但 `\N` 和 `\n` 都被视为强制换行。 _（即使已经全局启用，排版也应该通过 `\q` 激活此模式）_

无论何种模式， `\N` 始终会插入强制换行符。下表总结了三种相关码位在每种模式下的行为方式。

| mode 模式 | `U+0020`     | `\n`     | `\N`     |
| --------- | ------------ | -------- | -------- |
| `\q0`     | 自动         | 自动     | 强制中断 |
| `\q1`     | 自动         | 自动     | 强制中断 |
| `\q2`     | _（不中断）_ | 强制中断 | 强制中断 |

### 信息标头

以下标头不影响渲染， 但可以用来记录有关脚本的元数据： `Title` 、 `Original Script` 、 `Original Translation` 、 `Original Editing` 、 `Original Timing` 、 `Script Updated By` 、 `Update Details` 。

您可以将任何自由格式的数据放入其值中，只要它不包含换行符或其他 ASCII 控制字符。

如果您想要包含更多或更细粒度的元数据，可以使用特殊的 `!` 标头来实现。它可以多次指定，其值也是自由格式的数据，并且不会影响渲染。编辑器应该保留它们。例如 `!: Release Date: 2009-08-07` 。

## Section: Style

节头和内容因格式版本而异。节类型必须与先前在 `ScriptType` 中声明的类型一致。

### v4+ (ASS) Style v4+（ASS）风格

该部分标头为 `[V4+ Styles]` 。
第一行记录了 `Style:` 为了方便人类读者，**必须**是：

```txt
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
```

此后可能会有多个样式定义。每个样式定义都包含一行，以 `Style:` 后跟多个以 `,` 分隔的字段。与 `Format:` 行不同， 分隔逗号后面*不能*有空格。
字段计数和顺序与上面显示的 `Format:` 行相匹配。
在 `Style:` lines 中，布尔值**必须**使用 `0` 表示“假”，使用 `-1` 表示“真”。
颜色值**必须**使用以 `&H` 为前缀的十六进制值。如果值包含 Alpha 通道（ `Style:` 行中的所有颜色值都包含），则顺序为 `ABGR` ，值为 `&H00` 表示完全不透明，而 `&HFF` 表示完全透明，即不可见。对于不接受 Alpha 通道的覆盖标签，**必须**仅指定 `BGR` 而不指定 Alpha 通道。
所有使用的字体及其变体**必须**存在，并且**必须**附加到最终发行版本。

- `Name` **必须**是唯一的、非空的字符串，且**不得**以空格开头或结尾。它之后会用于引用和使用定义的样式。
- `Fontname` 设置所需字体的系列名称。**不得**超过 31 个字符，并且字体的系列名称**必须**在所有平台上匹配。
- `Fontsize` 浮点数；设置文本的行高。**请勿**使用大于 `511` 的值；如果需要更大的值，请使用缩放标签。由于[兼容性问题](https://github.com/libass/libass/issues/618) 目前也应该避免使用负值。
- `Spacing` ：浮点数；在每个字形之间应用间距。不建议将其用于依赖复杂形状的脚本。
- `BorderStyle` 可以是 `1` （表示扩展字形的常规轮廓）或 `3` （表示使用矩形框）。
- `Alignment` ：请参阅 `\an` 了解允许的值
- `Encoding` **必须**始终设置为 `1` 。

否则每个字段的类型为<sup id="f_isr-fp"><a href="#ft_isr-fp">isr-fp</a></sup>：

- `Fontsize` ：浮点数
- `PrimaryColour` 、 `SecondaryColour` 、 `OutlineColour` 、 `BackColour` ：包含 alpha 通道的颜色值
- `Bold` ， `Italic` ， `Underline` ， `StrikeOut` ：布尔值
- `ScaleX` ， `ScaleY` ：浮点数
- `Outline` 、 `Shadow` ：浮点数
- `Angle` ：浮点数
- `MarginL` 、 `MarginR` 、 `MarginV` ：整数

有关详细信息，请参阅 [Aegisub 的风格文档](https://aegisub.org/docs/latest/styles/#the-style-editor)。 _（如果 Aegisub 文档与本文档有冲突，请遵循此处列出的准则。）_

### v4++ (ASS2) Style v4++（ASS2）样式

该部分标头为 `[V4++ Styles]` 。
与 ASS 相比， `MarginV` 被拆分为 `MarginT` （顶部）和 `MarginB` （底部），并且在最后添加了一个新的 `RelativeTo` 字段。
对于排版， `RelativeTo` **必须**设置为 `1` ；对于对话，RelativeTo **必须**设置 `0` 。前者将保证始终在视频帧内的相同位置渲染，而后者则允许移位到播放边缘，并且不要期望任何特定位置。
完整格式为：

```txt
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginT, MarginB, Encoding, RelativeTo
```

但与其他格式版本不同，v4++ 文件实际上不应该包含此 `Format:` 行。

### v4 (SSA v4) Style v4（SSA v4）样式

该部分标头为 `[V4 Styles]` 。
`Style:` lines 的格式为

```txt
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding
```

请注意，SSA 中的对齐值与 ASS 中的不同；请参阅 `\a` 。 `AlphaLevel` 不影响阴影，在 VSFilter 风格的 SSAv4 中，阴影总是使用 `&H80` 。
<sup id="f_AlphaLevel">[AlphaLevel](#ft_AlphaLevel)</sup>

## Section: Fonts

此部分为可选部分，包含嵌入字幕文件本身的字体。如果没有嵌入字体，则**必须**省略此部分。
如果可能的话，您**应该**将字体附加到 MKV 容器（或类似的多媒体容器），而不是将它们嵌入到字幕文件本身中。
每个嵌入字体占多行。第一行以小写的 `fontname:` 开头，后跟嵌入文件的描述性*全小写(!)* 名称。接下来的几行包含字体文件的编码二进制数据。**必须**以至少一个空行结尾。
此后，可以嵌入更多字体文件或开始新的部分。

### Binary Encoding Format 二进制编码格式

ASS/SSA 使用自定义编码将任意二进制数据转换为大写字母和非字母、非空格符号。

二进制输入数据以 3 个字节为单位进行处理。这些字节被拆分成四个 6 位数据块，以便首先处理最高有效位。

每个块都会添加值 `33` ，然后以 UTF-8/ASCII 文本形式输出。写入恰好 80 个字节后，必须插入一个换行符。只有到达源文件末尾时，最后一行才可以少于 80 个字符。

如果文件末尾仅剩下少于 3 个字节，则在分成 6 位块之前用零填充文件末尾以外的数据，但只写出包含实际文件数据的块。

## Section: Events

该部分标头为 `[Events]` _（无论格式版本如何）_ 。

此部分包含两种类型的事件： `Dialogue` 事件，将在指定的时间和位置渲染到画面上； `Comment` 事件，不会渲染，但会在编辑器中显示。这些事件行的格式取决于格式版本。

在v4和v4+版本中，紧接在节标题之后的行**必须**是关于事件字段的可读性文档，必须与下面进一步显示的 `Format:` 行完全匹配。
在 v4++ 中**一定不能**有这样的文档格式行。

每个 `Dialogue` 事件都包含一行，且**必须**以 `Dialogue:` 开头。前缀后跟多个以 `,` 分隔的字段。与 `Format:` 行不同， 分隔逗号后面*不能*有空格。
字段的数量和功能取决于格式版本。该版本**必须**与先前在 `ScriptType` 标头中声明的版本匹配。

### Dialogue line format 对话格式

#### v4+ (ASS) Dialogue v4+（ASS）对话

```txt
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
```

除最后的 `Text` 字段外，任何字段值都不允许包含逗号。

- `Layer` ： `[0, 2³¹-1]` 范围内的整数值。Layer 值较低的事件将位于 `Layer` 值较高的事件之下。隐式定位，且 `Layer` 值不同的事件永远不会被视为冲突。
- `Start` / `End` ：活动开始/结束时间；它只会在这些时间之间显示；开始时间包含，结束时间不包含。格式为 `h:mm:ss.dd` ，其中 `h` 表示小时，取值范围为 `[0, 595]`
  <sup id="f_hoursEditors">[hoursEditors](#ft_hoursEditors)</sup> ，
  `mm` 为分钟，为 `[00, 60]` 范围内的两位数值， `ss` 为秒，也是 `[00, 60]` 之间的两位数值， `dd` 为十分之一秒，为 `[00, 99]` 范围内的两位数值。
  `mm` 、 `ss` 和 `dd` **不得**使用多于或少于两位的数字！
- `Style` ：**必须**与之前的 `Style` 定义名称完全匹配。此样式定义将用于整个事件。
- `Name` ：一个自由格式的元数据字段，主要用于指示角色正在说/思考/……这段对话。它不会影响渲染。
- `MarginL` / `MarginR` / `MarginV` ：如果非零，则覆盖样式中的相应值。
- `Effect`：应用于事件的旧版效果。请参阅 [“效果”](#effects) 部分。
- `Text` ：包含将在画面上显示的文本和命令。此字段允许包含逗号。

#### v4++ (ASS2) Dialogue v4++（ASS2）对话

```txt
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginT, MarginB, Effect, Text
```

这与 ASS 匹配，除了 `MarginV` 被分成 `MarginB` 和 `MarginT` 类似于样式部分。

#### v4 (SSA v4) Dialogue v4（SSA v4）对话

```txt
Format: Marked, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
```

这与 ASS 匹配，但 `Layer` 被替换为 `Marked` 。对于每个事件， `Marked` 字段的内容**必须**为 `Marked=0` 。

### Comment line format 注释行格式

`Comment` 遵循与 `Event` 完全相同的格式，只是行前缀被替换为 `Comment:` ，字段没有任何实际效果，画面上不会显示任何内容。

## Override Tags

除了 `\kt` 所有可用的覆盖标签的描述金额它们的一般行为，可以在 [Aegisub 的文档](https://aegisub.org/docs/latest/ass_tags/) 找到示例和图像。
**请勿**使用 `\fe` ，并且 `\blur` **应该**优于 `\be` 。
`\fs` 在最大尺寸和负值方面与 `Fontsize` 具有相同的限制。这也适用于通过 `+` /`-` 比例计算的值。
`\kt` 允许设置相对于事件开始的下一个卡拉 OK 音节的*开始*时间。
<sup id="f_ktLibassSupport">[ktLibassSupport](#ft_ktLibassSupport)</sup>
（如果没有 `\kt` 标签，开始时间就是所有先前卡拉 OK 音节的持续时间的总和。）
虽然 `\kt` 是 v4++ 添加的（唯一标签），并且 Aegisub 描述的几个标签是 ASS 的添加，但渲染器将在任何 VSFilter 风格的 SSAv4、ASS 或 v4++ 文件中接受和处理它们——无论它是否已经存在于这个基本格式版本中。

## Effects 效果

下面列出了所有有效的效果类型及其参数。
<sup id="f_fadeaway">[fadeaway](#ft_fadeaway)</sup>

您**绝对不能**将有效的效果名称与无效的参数或错误的参数数量放入该字段。
您**可以**输入一个空字符串或无效的效果名称，后跟任意数量的参数 进入该领域；这些将被忽略并且不会产生任何效果。
<sup id="f_invalidEffect">[invalidEffect](#ft_invalidEffect)</sup>

效果名称在前，后接多个参数。参数之间用分号 `;` 分隔，与其他参数和效​​果名称分隔。如果省略了可选参数，则**必须**没有尾随分号。

- `Banner;delay;lefttoright`文本在屏幕上水平滚动；暗示`\q2`
  - `delay` 是一个正整数，范围从 `1` 到 `100` （含100）。该值控制滚动速度，值越小，滚动速度越快。

  - `lefttoright` 是*可选的* ，可以是 `0` _（默认）_ 或 `1` 。如果设置为 `1` 则滚动方向为从左到右，否则为从右到左。

- `Scroll up;y1;y2;delay` 从下到上滚动画面上的文本。 按照惯例， `y1` 应该小于 `y2` 。事件开始时的放置位置使其顶端略低于 `y2` 。
  - `y1` 滚动的上限。超出此点后，事件将被截断。
  - `y2` 滚动的下限。超过此点后，事件将被截断。
  - `delay` 类似于 `Banner` 的 `delay` 参数
- `Scroll down;y1;y2;delay` 从上到下滚动屏幕上的文本。 一开始，事件的底部位于 `y1` 正上方。否则，参数相当于 `Scroll up` 。

## 附录：示例文件

```txt
[Script Info]
ScriptType: v4.00+
ScaledBorderAndShadow: yes
YCbCr Matrix: None
PlayResX: 640
PlayResY: 360
LayoutResX: 640
LayoutResY: 360
WrapStyle: 0

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,DejaVu Sans,65,&H007F67D0,&H00187DC1,&H00000000,&H00D4AA86,-1,0,0,0,100,100,0,0,1,0.4,0,7,10,10,10,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Comment: 0,0:00:00.00,0:00:06.99,Default,,0,0,0,,Placeholder; replace with proper type later
Dialogue: 0,0:00:00.00,0:00:06.99,Default,,0,0,0,,{\pos(52,72)\an7\1c&HB3B3B3&\p1}m 2 34 l 8 60 112 37 107 24{\p0}
Dialogue: 0,0:00:00.00,0:00:06.99,Default,,0,0,0,,{\q2\shad0\bord2\fs36\org(126.31,107.61)\pos(128.85,116.69)\fax-0.068131\fscx207.70\fscy50.43\frz4.2185\frx25.9522\fry63.2018}Bakery
```

​

## 附录：编辑者

编辑者可以添加包含创作或特定程序元数据的附加部分。例如，Aegisub 包含 `[Aegisub Project Garbage]` 和 `[Aegisub Extradata]` 。

旧版本的 Aegisub 会直接将此信息转储到 `[Script Info]` 中，但应该避免这样做。最好使用自定义的命名空间部分。

如果自定义部分很短，则最好将其放在 `[Script Info]` 之后，如果自定义部分很长或者没有明确的长度限制，则最好将其放在文件的最末尾。

理想情况下，这些额外的数据将被删除，以便最终导出完成的项目。

## 附录：打破规则

从技术上讲，标准渲染器在布局等方面比这里记录的更灵活，但例如混流器和其他工具通常对此更为严格。

即使在遵循这里提出的建议时，渲染器之间也可能出现问题。从理论上讲，所有渲染器都应该匹配权威的实现，但在实践中存在一些错误和缺失的功能。_（正如一些脚注已经指出的那样）_ 。

也存在因滥用 libass API 而导致差异的情况
<sup id="f_apiMisuse">[apiMisuse](#ft_apiMisuse)</sup>，
但如果遵循本文档的指导方针，也可以避免这些问题。

综上，违反此处描述的规则的文件*可能*仍能正常工作，甚至可能在所有渲染器上仍能正常工作，但每次偏差都会使其更有可能遇到问题。

因此，再次*强烈*建议在生成 ASS 文件时遵循此处列出的准则。

---

## 脚注

<b id="ft_v4pp">v4++</b>：
截至撰写本文时（2023-12），除了 `\kt` 覆盖标签外，v4++ 格式在 VSFilter 之外几乎不受支持。 [↩](#f_v4pp)

<b id="ft_sbas-no">sbas-no</b>：
使用 `ScaledBorderAndShadow: no` 绝对没有任何好处。 它只会让事情变得更加混乱，并且仅仅存在某种程度 与原始 Sub Station Alpha 向后兼容。 [↩](#f_sbas-no)

<b id="ft_ycbcr">ycbcr</b>：
然而，一些 libass 用户不遵循 `ass_types.h` 中列出的颜色处理说明，总是将其视为 `None` 。此外，一些软件在处理除 `*.601` 以外的值时，不幸地存在 bug。 `*.709` 或 `None` ，有些甚至使用 `None` 也会出现问题。
遵循这些建议应该可以让你避免所有这些问题。 [↩](#f_ycbcr)

<b id="ft_q3">q3</b>：
注意，VSFilter 也支持值 `3` ，此时行会像 `\q0` 一样自动换行，但会尽量保持上一行比下一行短。libass 不支持此模式，因此会将其视为与 `0` 相同。请勿使用 `3` 。如果您希望实现特定的换行样式，请使用 `2` / `\q2` 并明确指定强制换行符 `\N` 。 [↩](#f_q3)

<b id="ft_isr-fp">isr-fp</b>：
MPC-HC ISR 在大多数地方不接受浮点值 原始的 guliverkli(2) VSFilter 也没有。 然而，所有其他渲染器早已支持它了， 浮点值在现有版本中已被广泛使用。 [↩](#f_isr-fp)

<b id="ft_AlphaLevel">AlphaLevel</b>:
自 0.17.0 版本 _（发布于 2022-11-30；提交于 2022-10-14 合并）_ 起，libass 已支持 `\kt` 。自 guliverkli r453 版本 2.37 _（均发布于 2005-11-25）_ 起，VSFilter 也已支持 \kt。 [↩](#f_ktLibassSupport)

<b id="ft_hoursEditors">hoursEditors</b>:
在正版 Sub Station Alpha SSAv4 中， `AlphaLevel` 没有任何作用。 [↩](#f_AlphaLevel)

<b id="ft_invalidEffect">invalidEffect</b>:
截至撰写本文时（2024-01-07），Aegisub 和 Kainote 可能不支持创建多位数字的小时时间戳。后者甚至会将解析后的时间戳截断为小于 10 小时。

在任何最近的渲染器和复用器中都没有理由出现这种情况， 因此预计这一限制将很快被取消。 [↩](#f_hoursEditors)

<b id="ft_fadeaway">fadeaway</b>:
对于所有效果类型，VSFilter 还支持此处列出的附加可选 `fadeaway` 参数。 目前 libass 尚不支持此功能，因此不得使用。 [↩](#f_fadeaway)

<b id="ft_invalidEffect">invalidEffect</b>:
在创作过程中，忽略的无效效果经常被滥用来标记原始行以供脚本处理。 [↩](#f_invalidEffect)

<b id="ft_apiMisuse">apiMisuse</b>:
不可否认，这些 API 误用最有可能归咎于我们过去的文档相当差 _（并且可能仍然不完善；欢迎修补）_ 。

过去，一些 API 用户忘记将存储大小传递给 libass， 导致缺少 `LayoutRes{X,Y}` 标头的文件渲染错误。目前所有已知问题均已修复。

另一个已知且尚未完全修复的错误是没有正确地混合颜色； 参见脚注 [ycbcr](#ft_ycbcr) 。 [↩](#f_apiMisuse)
